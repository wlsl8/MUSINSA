<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notice | MUSINSA</title>
    <link rel="stylesheet" href="../css/sub.css">
    <script>
        window.onload = () => {
            // 토글 스위치 기능
            const toggle = document.getElementById("myToggle");
            const thumb = toggle.querySelector(".toggle-thumb");
            const optionOn = toggle.querySelector(".toggle-option.on");
            const optionOff = toggle.querySelector(".toggle-option.off");

            let isOn = true;

            function updateToggle() {
                if (isOn) {
                    thumb.style.left = "0";
                    thumb.style.background = "#DDC8AA";
                    optionOn.style.color = "#fff";
                    optionOff.style.color = "#4F4436";
                } else {
                    thumb.style.left = "50%";
                    thumb.style.background = "#C9B089";
                    optionOn.style.color = "#4F4436";
                    optionOff.style.color = "#fff";
                }
            }

            toggle.addEventListener("click", () => {
                isOn = !isOn;
                updateToggle();
            });

            updateToggle();


            // 메뉴 선택 + 리스트 필터링
            const gnbItems = document.querySelectorAll(".gnb li a");

            const list01 = document.querySelector(".list-01");
            const list01Title = list01.querySelector(".title"); 
            const list01Items = list01.querySelectorAll(".item"); 

            const list02 = document.querySelector(".list-02");
            const list02Title = list02.querySelector(".title"); 
            const list02Depth1 = list02.querySelector(".depth-01");
            const list02Depth2 = list02.querySelector(".depth-02");

            const news = document.querySelector(".news");

            gnbItems.forEach(link => {
                link.addEventListener("click", (e) => {
                    e.preventDefault();

                    gnbItems.forEach(l => l.parentElement.classList.remove("active"));
                    link.parentElement.classList.add("active");

                    const text = link.textContent.trim();

                    news.classList.remove("compact-small", "compact-large");

                    switch (text) {
                        case "전체":
                            list01Title.style.display = "flex";
                            list02Title.style.display = "flex";

                            list01Items.forEach(item => item.classList.remove("hidden"));
                            list02Depth1.classList.remove("hidden");
                            list02Depth2.classList.remove("hidden");
                            list02.classList.remove("hidden");

                            list01.classList.remove("hide-after");

                            list01.classList.remove("compact-small", "compact-large");
                            break;

                        case "주문/배송":
                            list01Title.style.display = "none";
                            list02Title.style.display = "none";

                            list01Items.forEach(item => item.classList.remove("hidden"));
                            list02.classList.add("hidden");

                            list01.classList.add("hide-after");
                            news.classList.add("compact-large"); 
                            break;

                        case "이벤트/혜택":
                            list01Title.style.display = "none";
                            list02Title.style.display = "none";

                            list01Items.forEach(item => item.classList.add("hidden"));
                            list02.classList.remove("hidden");
                            list02Depth1.classList.remove("hidden");
                            list02Depth2.classList.add("hidden");

                            list01.classList.add("hide-after");
                            news.classList.add("compact-small"); 
                            break;

                        case "내활동":
                            list01Title.style.display = "none";
                            list02Title.style.display = "none";

                            list01Items.forEach(item => item.classList.add("hidden"));
                            list02.classList.remove("hidden");
                            list02Depth1.classList.add("hidden");
                            list02Depth2.classList.remove("hidden");

                            list01.classList.add("hide-after");
                            news.classList.add("compact-small"); 
                            break;
                    }
                });
            });


            // 알림 접기/펼치기 기능
            const toggleBtn = document.querySelector(".list-01 .toggle-btn");
            const listItem = document.querySelector(".list-01 .item");
            let collapsed = false;

            toggleBtn.addEventListener("click", () => {
                const fullHeight = listItem.scrollHeight + "px";

                if (!collapsed) {
                    listItem.style.maxHeight = fullHeight;
                    listItem.style.transition = "max-height 0.4s ease, opacity 0.4s ease";
                    requestAnimationFrame(() => {
                        listItem.style.maxHeight = "0";
                        listItem.style.opacity = "0";
                    });
                } else {
                    listItem.style.maxHeight = "0";
                    listItem.style.opacity = "0";
                    requestAnimationFrame(() => {
                        listItem.style.transition = "max-height 0.4s ease, opacity 0.4s ease";
                        listItem.style.maxHeight = fullHeight;
                        listItem.style.opacity = "1";
                    });
                }

                collapsed = !collapsed;


                toggleBtn.style.transform = collapsed ? "rotate(180deg)" : "rotate(0deg)";

                listItem.addEventListener(
                    "transitionend",
                    function handler(e) {
                        if (!collapsed) listItem.style.maxHeight = "none";
                        listItem.removeEventListener("transitionend", handler);
                    }
                );
            });

        };
    </script>
</head>

<body class="sub-page notice">
    <div id="wrap">
        <header class="header">
            <div class="inner">
                <h1 class="title">
                    <a href="../index.html">
                        <img src="../img/left-more-icon.webp" alt="나가기">
                        <b>알림</b>
                    </a>
                </h1><!-- .title end -->
                <nav class="nav">
                    <a href="#"><img src="../img/more-가로-icon.webp" alt="가로더보기"></a>
                    <a href="#"><img src="../img/search-icon.webp" alt="검색아이콘"></a>
                    <a href="#"><img src="../img/dark-bag-icon.webp" alt="장바구니아이콘"></a>
                </nav>
            </div><!-- .inner end -->
        </header>

        <div class="main">
            <div class="inner">
                <div class="setting-item">
                    <div class="onoff">
                        <p>알림수신</p>
                        <div class="toggle-switch" id="myToggle">
                            <div class="toggle-track">
                                <span class="toggle-option on">ON</span>
                                <span class="toggle-option off">OFF</span>
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                    </div><!-- .onoff end -->
                </div><!-- .setting-item end -->

                <div class="gnb">
                    <ul>
                        <li class="active">
                            <a href="#">전체</a>
                        </li>
                        <li>
                            <a href="#">주문/배송</a>
                        </li>
                        <li>
                            <a href="#">이벤트/혜택</a>
                        </li>
                        <li>
                            <a href="#">내활동</a>
                        </li>
                    </ul>
                </div><!-- .gnb end -->

                <section class="section-01">
                    <div class="inner">
                        <a href="coupon.html">마감임박 쿠폰</a>
                        <div class="news">
                            <div class="list-01">
                                <div class="title">
                                    <b>이번 주 무신사 알림 요약</b>
                                    <img src="../img/위로접기-icon.webp" alt="위로접기아이콘" class="toggle-btn">
                                </div><!-- .title end -->
                                <div class="item">
                                    <div class="depth-01">
                                        <div class="left">
                                            <img src="../img/notice-img-1.webp" alt="주문상태변경이미지">
                                            <p>주문상태변경</p>
                                        </div><!-- .left end -->
                                        <div class="right">
                                            <img src="../img/pin-icon.webp" alt="고정핀아이콘">
                                            <a href="#"><img src="../img/more-세로-icon.webp" alt="세로더보기아이콘"></a>
                                        </div><!-- .right end -->
                                    </div><!-- .depth-01 end -->
                                    <div class="depth-02">
                                        <div class="left">
                                            <img src="../img/notice-img-2.webp" alt="배송완료이미지">
                                            <p>배송완료</p>
                                        </div><!-- .left end -->
                                        <div class="right">
                                            <a href="#"><img src="../img/more-세로-icon.webp" alt="세로더보기아이콘"></a>
                                        </div><!-- .right end -->
                                    </div><!-- .depth-02 end -->
                                </div><!-- .item end -->
                            </div><!-- .list-01 end -->

                            <div class="list-02">
                                <div class="title">
                                    <b>전체</b>
                                </div><!-- .title end -->
                                <div class="item">
                                    <div class="depth-01">
                                        <div class="left">
                                            <img src="../img/notice-img-3.webp" alt="주문상태변경이미지">
                                            <p>새로운 이벤트 혜택</p>
                                            <img src="../img/new-icon.webp" alt="새로운 알림 아이콘">
                                        </div><!-- .left end -->
                                        <div class="right">
                                            <a href="#"><img src="../img/more-세로-icon.webp" alt="세로더보기아이콘"></a>
                                        </div><!-- .right end -->
                                    </div><!-- .depth-01 end -->
                                    <div class="depth-02">
                                        <div class="left">
                                            <img src="../img/notice-img-4.webp" alt="새로운 내 활동 이미지">
                                            <p>새로운 내 활동</p>
                                            <img src="../img/new-icon.webp" alt="새로운 알림 아이콘">
                                        </div><!-- .left end -->
                                        <div class="right">
                                            <a href="#"><img src="../img/more-세로-icon.webp" alt="세로더보기아이콘"></a>
                                        </div><!-- .right end -->
                                    </div><!-- .depth-02 end -->
                                </div><!-- .item end -->
                            </div><!-- .list-02 end -->
                        </div><!-- .news end -->
                    </div><!-- .inner end -->
                </section><!-- .section-01 end -->
            </div><!-- .inner end -->
        </div><!-- .main end -->


        <div class="bottom_nav">
            <ul class="tab_nav">
                <li>
                    <img src="../img/dark-search-icon-off.webp" alt="카테고리아이콘">
                    <b>카테고리</b>
                </li>
                <li>
                    <img src="../img/dark-style-icon-off.webp" alt="스타일아이콘">
                    <b>스타일</b>
                </li>
                <li>
                    <a href="../index.html">
                        <img src="../img/dark-home-icon-off.webp" alt="홈아이콘">
                        <b>홈</b>
                    </a>
                </li>
                <li>
                    <img src="../img/dark-heart-icon-off.webp" alt="좋아요아이콘">
                    <b>좋아요</b>
                </li>
                <li>
                    <a href="mypage.html">
                        <img src="../img/dark-my-icon-off.webp" alt="마이아이콘">
                        <b>마이</b>
                    </a>
                </li>
            </ul><!-- tab_nav -->
        </div><!-- bottom_nav -->
    </div><!-- #wrap -->
</body>

</html>